{include file="common/headcss"}
{include file="common/head"}
{include file="common/perpub"}

		<form class="layui-form">
		<div class="my-space-course float_l">
			<div class="course-tab float_l" >
				<!-- <a>历史观看</a> -->
				<div class="layui-input-block float_r" style="margin-top: 10px;">
			      <select name="coursetype" lay-verify="required" lay-filter="search_type" >
			        <option value="1">点播视频</option>
			        <option value="2">直播视频</option>
			        <option value="3">公开课视频</option>
			      </select>
			    </div>
			</div>
			
			<div class="course-list" id="list">
				{php}for($i=0;$i<15;$i++){{/php}
				<div class="clearfix float_l">
					<img class="float_l" src="https://img3.sycdn.imooc.com/5b9a01a40001fe1805400300-240-135.jpg">
					<div class="clearfix-title float_l">
						<div class="h4">Spring Boot 2.0深度实践之系列总览</div>
						<p class="course-content float_l" style="margin-right:15px;">视频分类：点播视频</p>
						<p class="course-content">收藏日期：2018-12-30 19:15</p>
						<span class="course-content">一级类目 / 二级类目 / 三级类目</span>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;作者:<span class="course-content">大白菜</span>
						<br>
						<br>
						<a class="titletab">我的笔记 (2)</a>
						<a class="titletab">讨论 (3)</a>
						<a class="titletab3">评价 (3)</a>
						<a class="study float_r" href="">学习啊</a>
					</div>
					
				</div>
				<hr>
				{php}}{/php}
				<div id="test1"></div>
			</div>
		</div>	
	</form>	
	</div>
	
</div>
<!-- <div class="width100" style="height: 1000px;background-color: #000;"></div> -->
<!-- 页脚 -->

</body>

<script>
	// 初始化页面
	window.onload=function(){
		getpage();
		getvideotype();
	}
	// layui的分页组件应该，先ajax请求过去后再初始化组件
	function getpage(){
		layui.use("laypage", function(){
			var laypage = layui.laypage;
			//执行一个laypage实例
			var url="{:url('Index/person/mycollectdata')}";
			var token=getCookie("token");
			$.ajax({
				url:url,
				type:"post",
				dataType:"json",
				data:{"token":token},
				success:function(e){
					if(e.status=='1'){
						alert(e.data);
						laypage.render({
						elem: "test1" //注意，这里的 test1 是 ID，不用加 # 号
						,count: e.count //数据总数，从服务端得到
						,limit:e.pagesize
						,jump: function(obj, first){
							//obj包含了当前分页的所有参数，比如：
							console.log(obj.curr); //得到当前页，以便向服务端请求对应页的数据。
							console.log(obj.limit); //得到每页显示的条数
							
							//首次不执行
							if(!first){
								//do something

							}else{
								// alert("首页")
							}
						}
					});
					}else{
						//暂无数据
					}
				}
			})
			
		});
	}
function getvideotype(){
	//注意：导航 依赖 element 模块，否则无法进行功能性操作
	layui.use("element", function(){
		var element = layui.element;
	});
	//渲染form表单（下拉框）
	layui.use("form", function(){
		var form = layui.form;
		form.on("select(search_type)", function(data){
			var n=parseInt(data.value);
			switch(n)
				{
				case 1:
					alert("点播视频");
					break;
				case 2:
					alert("直播视频");
					break;
					case 3:
						alert("公开课视频");
						break;
				default:
					break;
				}
		});
	});
}
$("#userinfomess").hover(function(){
    $("#userinfoset").attr("class","userinfo");
  },
  function(){})
$("#userinfoset").hover(function(){

},function(){
    $("#userinfoset").attr("class","userinfo userinfo-hoverls");
  }
)
</script>
</html>
